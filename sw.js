(function(){"use strict";function w(e,a){if(a&&e=="hidden-page")return new Response("Shh. I'm a secret page.")}const[g,W,b,d,P,V,h,K,j]=[["/SvelteKit-Plugin-Versioned-Worker/","/SvelteKit-Plugin-Versioned-Worker/linkDemo/"],["/SvelteKit-Plugin-Versioned-Worker/app/immutable/assets/_layout-1fdb24be.css","/SvelteKit-Plugin-Versioned-Worker/app/immutable/assets/_page-c8b01fff.css","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/0-811a4902.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/1-d40b84b3.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/2-764b3d8e.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/3-7255ed13.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/paths-e7eaaeb4.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/singletons-127015ab.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/Tools-094787a4.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/chunks/_layout-79cb23d1.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/components/error.svelte-d3a4aa07.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/components/pages/linkDemo/_page.svelte-46ba9ac4.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/components/pages/_layout.svelte-54594a04.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/components/pages/_page.svelte-aebd85b7.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/modules/pages/_layout.js-5612100c.js","/SvelteKit-Plugin-Versioned-Worker/app/immutable/start-e7d92a78.js","/SvelteKit-Plugin-Versioned-Worker/appIcon.png","/SvelteKit-Plugin-Versioned-Worker/appIcon.svg","/SvelteKit-Plugin-Versioned-Worker/favicon.png","/SvelteKit-Plugin-Versioned-Worker/favicon.svg","/SvelteKit-Plugin-Versioned-Worker/manifest.webmanifest","/SvelteKit-Plugin-Versioned-Worker/maskableAppIcon.png"],[],"SvelteKit-Plugin-Versioned-Worker-",4,"sw",10,10,"/SvelteKit-Plugin-Versioned-Worker/"],m=d+P,f=Object.create(null,{}),k=e=>{for(const a of e)f[a]=!0};k(g),k(W),k(b);const y=e=>{e=e.split(`\r
`).join(`
`);const a=e.indexOf(`
`),n=e.slice(0,a)==2;let t=null;return n&&(t=e.slice(a+1).split(`

`).map(r=>{let s=r.split(`
`);return s[0]==""?[]:s})),{formatVersion:n?2:-1,updated:t}},_=async e=>{let a=[];const n=await caches.keys();for(const t of n)t.startsWith(d)&&t!=m&&a.push(parseInt(t.slice(d.length)));return a=a.sort((t,r)=>r-t),a},q=async e=>{if(e.length==0)return[null,!0];const a=Math.max(...e);let n=[];const t=[Math.floor((a+1)/h),Math.floor(P/h)];if(t[1]-t[0]+1>K)return[null,!0];for(let i=t[0];i<=t[1];i++)n.push(fetch(`${V}/${i}.txt`));if(n=await Promise.all(n),n=await Promise.all(n.map(i=>i.text())),n=n.map(y),n.find(i=>i.formatVersion==-1))return[null,!0];const r=Math.floor(a/h);let s=new Set;for(let i=0;i<n.length;i++){const o=t[0]+i,c=n[i];let l=0;o==r&&(l=(a+1)%h);for(let u=l;u<c.updated.length;u++)for(const v of c.updated[u])s.add(v)}return[s,!1]};addEventListener("install",e=>{e.waitUntil((async a=>{const n=await _(),[t,r]=await q(n),s=new Set([...g,...W]),i=[];if(!r){const c=await caches.keys();for(const l of c){if(!l.startsWith(d)||l==m)continue;const u=await caches.open(l),v=await Promise.all([...s].map(p=>(async S=>[p,await u.match(p)!==void 0])()));for(const[p,S]of v)S&&!(t.has(p)||g.includes(p))&&(i.push([p,u]),s.delete(p))}}const o=await caches.open(m);await Promise.all([o.addAll(s),...i.map(([c,l])=>(async u=>{await o.put(c,await l.match(c))})())])})())}),addEventListener("activate",e=>{e.waitUntil((async a=>{await clients.claim();const n=await caches.keys();for(const t of n)t.startsWith(d)&&t!=m&&await caches.delete(t)})())}),addEventListener("fetch",e=>{e.respondWith((async a=>{const n=e.request.mode=="navigate"&&e.request.method=="GET",t=new URL(e.request.url).pathname;if(w){const o=await w(t.slice(j.length),n);if(o!=null)return o}if(n&&registration.waiting&&(await clients.matchAll()).length<=1)return registration.waiting.postMessage("skipWaiting"),new Response("",{headers:{Refresh:"0"}});let r=await caches.open(m),s=await r.match(e.request);if(s)return s;let i;try{i=await fetch(e.request)}catch{return g.includes(t)&&n?new Response("Something went wrong. Please connect to the internet and try again."):(f[t]&&console.error(`Couldn't fetch or serve file from cache: ${t}`),Response.error())}return f[t]&&e.request.method=="GET"&&e.waitUntil(r.put(e.request,i.clone())),i})())}),addEventListener("message",({data:e})=>{e=="skipWaiting"&&skipWaiting()})})();
